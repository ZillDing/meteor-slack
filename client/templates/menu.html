<template name="menu">
	<div class="ui fluid inverted secondary vertical text menu">
		<div class="item header">CHANNELS</div>
		{{#each channels}}
		{{> menu_channelItem}}
		{{/each}}

		{{#if currentUser}}
		{{#if isAddingANewChannel}}
		{{> menu_addNewChannelItem}}
		{{else}}
		{{> menu_createNewChannelItem}}
		{{/if}}
		{{/if}}

		<div class="ui inverted divider"></div>

		<div class="item header">DIRECT MESSAGES</div>
		<a class="item">
			<span>@</span>tom
		</a>
		<a class="item">
			<span>@</span>jim
		</a>
		<a class="item">
			<span>@</span>susan
		</a>

		{{#if currentUser}}
		{{#if isAddingANewDirectChat}}
		{{> menu_addNewDirectChatItem}}
		{{else}}
		{{> menu_createNewDirectChatItem}}
		{{/if}}
		{{/if}}
	</div>
</template>

<!-- ####################################################################### -->
<template name="menu_channelItem">
	<a href="/channel/{{name}}" class="{{channelClass name}}">
		<span>#</span>{{name}}
	</a>
</template>
<!-- ####################################################################### -->
<template name="menu_createNewChannelItem">
	<a class="item">
		<em style="border-bottom: 1px dotted">Create new channel...</em>
	</a>
</template>
<!-- ####################################################################### -->
<template name="menu_addNewChannelItem">
	<div class="item">
		<form class="ui form">
			<div class="ui transparent inverted icon input">
				<span class="flex-center-align">#</span>
				<input type="text" placeholder="New channel...">
				<i class="cancel link icon"></i>
			</div>
			<small style="opacity: 0.8">* duplicate channel name is not allowed</small>
		</form>
	</div>
	<div class="ui popup" style="margin-right: 1rem">
		<div class="ui header">Are you sure?</div>
		<p><strong>*</strong> channel name cannot be edited or deleted after creation.</p>
		<div class="ui buttons">
			<button class="ui button cancel-btn">Cancel</button>
			<div class="or"></div>
			<button class="ui positive button confirm-btn">Confirm</button>
		</div>
	</div>
</template>

<!-- ####################################################################### -->
<template name="menu_createNewDirectChatItem">
	<a class="item">
		<em style="border-bottom: 1px dotted">Create new chat...</em>
	</a>
</template>
<!-- ####################################################################### -->
<template name="menu_addNewDirectChatItem">
	<div class="item">
		<form class="ui form">
			<div class="ui transparent inverted icon input">
				<span class="flex-center-align">@</span>
				<input type="text" placeholder="Choose a buddy...">
				<i class="cancel link icon"></i>
			</div>
		</form>
	</div>
	<div class="ui tiny inverted middle aligned selection list" style="margin-top: 0">
		{{> menu_addNewDirectChatItem_userItem}}
		{{> menu_addNewDirectChatItem_userItem}}
		{{> menu_addNewDirectChatItem_userItem}}
	</div>
</template>
<!-- ####################################################################### -->
<template name="menu_addNewDirectChatItem_userItem">
	<a class="item" style="margin-top: 0.3em; padding: 0 0 0 1rem">
		<div class="ui avatar image">
			<img src="{{SMALL_AVATAR_DIR}}/christian.jpg">
		</div>
		<div class="content">
			<div class="header">Christian</div>
		</div>
	</a>
</template>
