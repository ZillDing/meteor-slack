<template name="layout">
	<div class="ui grid sidebar">
		<div class="col-xs-12 flex-container flex-column-container">
			{{> layout_sidebar}}
		</div>
	</div>

	<div class="ui padded grid pusher">
		{{!-- only shown on non-mobile devices --}}
		<div id="sidebar-container" class="col-lg-2 col-sm-3 hidden-xs flex-container flex-column-container">
			{{> layout_sidebar}}
		</div>
		{{!-- only shown on mobile devices --}}
		{{> navbar}}

		<div id="main-container" class="
			{{#if $.Session.equals 'showUtility' true}}col-lg-7 col-sm-6 hidden-xs
			{{else}}col-lg-10 col-sm-9 col-xs-12{{/if}}
			flex-container flex-column-container">
			{{#if $.Session.get 'chatType'}}
			<div class="row" style="padding-bottom: 0">
				{{> title}}
			</div>
			{{/if}}

			<div class="row flex-stretch-item">
				{{> yield}}
			</div>

			{{#if $.Session.get 'chatType'}}
			<div class="row">
				{{> input}}
			</div>
			{{/if}}
		</div>

		{{#if $.Session.equals 'showUtility' true}}
		<div id="utility-container" class="col-lg-3 col-sm-3 col-xs-12 flex-container flex-column-container">
			<div class="row">
				{{> utility}}
			</div>
		</div>
		{{/if}}
	</div>
	{{!-- show connection status when there is something wrong --}}
	{{> connection}}
	{{!-- modal --}}
	{{!-- this is for channel creation confirmation --}}
	{{!-- cannot put into menu template becuase it will be created twice --}}
	{{> menu_modal}}
	{{!-- notifications --}}
	{{> sAlert template="sAlertCustom"}}
</template>
<!-- ####################################################################### -->
<template name="layout_sidebar">
	<div class="row" style="background-color: #5D3863">
		{{> site}}
	</div>

	<div class="row flex-stretch-item" style="background-color: #824F8A">
		{{> menu}}
	</div>

	<div class="row" style="background-color: #5D3863">
		{{> status}}
	</div>
</template>
